<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>호호참숯불닭발 - 온라인 주문</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF3B30',
                        secondary: '#FF4500'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f8f8;
        }
        /* 커스텀 라디오 버튼 스타일 */
        input[type="radio"] + label span:first-child {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border-radius: 9999px; /* full rounded */
            border: 2px solid #D1D5DB; /* gray-300 */
            transition: all 0.2s ease-in-out;
            position: relative;
            vertical-align: middle;
        }
        input[type="radio"]:checked + label span:first-child {
            border-color: var(--tw-colors-primary);
            background-color: var(--tw-colors-primary);
        }
        input[type="radio"]:checked + label span:first-child::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            border-radius: 9999px;
            background-color: #fff;
        }
        /* 커스텀 체크박스 스타일 */
        .custom-checkbox {
            position: relative;
            cursor: pointer;
        }
        .custom-checkbox input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        .custom-checkbox .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 20px;
            width: 20px;
            background-color: #fff;
            border: 2px solid var(--tw-colors-primary);
            border-radius: 4px;
        }
        .custom-checkbox input:checked ~ .checkmark:after {
            content: "";
            position: absolute;
            display: block;
            left: 6px;
            top: 2px;
            width: 5px;
            height: 10px;
            border: solid var(--tw-colors-primary);
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
    </style>
</head>
<body>
    <!-- 상단 바 (간소화) -->
    <header class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="호호참숯불닭발-홈피.html" class="flex items-center text-gray-900">
                <!-- 로고 이미지가 들어갈 자리 (호호 로고 파일을 ./images/hoho-logo.png 에 저장하고 사용하세요) -->
                <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center overflow-hidden">
                    <img src="./images/hoho-logo.png" alt="호호참숯불닭발 로고" class="w-full h-full object-contain p-1">
                </div>
                <h1 class="ml-2 text-xl font-bold">호호참숯불닭발</h1>
            </a>
            <a href="호호참숯불닭발-홈피.html#menu" class="text-gray-700 hover:text-primary font-medium">
                메뉴 목록으로 돌아가기
            </a>
        </div>
    </header>

    <!-- 온라인 주문 섹션 -->
    <section id="order-form-section" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <!-- 제목 수정 가능 -->
                <h2 class="text-3xl font-bold mb-4">온라인 <span class="text-primary">주문</span></h2>
                <!-- 설명 수정 가능 -->
                <p class="text-gray-600 max-w-2xl mx-auto">호호참숯불닭발의 다양한 메뉴를 온라인으로 간편하게 주문하세요.</p>
            </div>
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden">
                <div class="p-8">
                    <!-- 제목 수정 가능 -->
                    <h3 class="text-2xl font-semibold mb-6">배달 주문 정보</h3>
                    <!-- Netlify Forms 또는 Google Apps Script 연동을 위한 form 태그 추가 -->
                    <form id="order-form" name="order" method="POST" data-netlify="true" class="space-y-6" netlify-honeypot="bot-field">
                        <!-- Netlify Forms 스팸 방지 필드 (숨김) -->
                        <p class="hidden">
                            <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
                        </p>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">이름</label>
                                <input type="text" id="name" name="customerName" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-2 focus:ring-primary/50" placeholder="홍길동" required>
                            </div>
                            <div>
                                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">연락처</label>
                                <input type="tel" id="phone" name="customerPhone" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-2 focus:ring-primary/50" placeholder="010-1234-5678" required>
                            </div>
                        </div>
                        <div>
                            <label for="address" class="block text-sm font-medium text-gray-700 mb-1">배달 주소</label>
                            <input type="text" id="address" name="deliveryAddress" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-2 focus:ring-primary/50" placeholder="서울시 강남구 테헤란로 123" required>
                        </div>
                        <div>
                            <label for="request" class="block text-sm font-medium text-gray-700 mb-1">요청사항</label>
                            <textarea id="request" name="specialRequest" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-2 focus:ring-primary/50" placeholder="배달 시 요청사항을 입력해주세요."></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-3">결제 방법</label>
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <input type="radio" id="payment-card" name="paymentMethod" value="신용카드" required>
                                    <label for="payment-card" class="flex items-center cursor-pointer">
                                        <span>신용카드</span>
                                    </label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" id="payment-bank" name="paymentMethod" value="계좌이체">
                                    <label for="payment-bank" class="flex items-center cursor-pointer">
                                        <span>계좌이체</span>
                                    </label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" id="payment-cash" name="paymentMethod" value="현금결제">
                                    <label for="payment-cash" class="flex items-center cursor-pointer">
                                        <span>현금결제</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <label class="custom-checkbox">
                                <input type="checkbox" name="privacyConsent" id="agree-terms" required>
                                <span class="checkmark"></span>
                            </label>
                            <span class="ml-7 text-sm text-gray-600">개인정보 수집 및 이용에 동의합니다.</span>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="bg-primary text-white px-8 py-3 rounded-button font-medium hover:bg-opacity-90 transition-all whitespace-nowrap">주문하기</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <script>
        // 커스텀 라디오 버튼 스타일 적용 스크립트
        document.addEventListener('DOMContentLoaded', function() {
            const radioButtons = document.querySelectorAll('input[type="radio"][name="paymentMethod"]');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', function() {
                    document.querySelectorAll(`input[name="${this.name}"]`).forEach(r => {
                        const span = r.nextElementSibling.querySelector('span:first-child');
                        if (span) {
                            span.classList.remove('bg-primary', 'border-primary');
                            span.classList.add('border-gray-300');
                        }
                    });
                    if (this.checked) {
                        const span = this.nextElementSibling.querySelector('span:first-child');
                        if (span) {
                            span.classList.remove('border-gray-300');
                            span.classList.add('bg-primary', 'border-primary');
                        }
                    }
                });
                // 페이지 로드 시 초기 선택된 라디오 버튼 스타일 적용
                if (radio.checked) {
                    const span = radio.nextElementSibling.querySelector('span:first-child');
                    if (span) {
                        span.classList.remove('border-gray-300');
                        span.classList.add('bg-primary', 'border-primary');
                    }
                }
            });
        });

        // 주문 폼 유효성 검사 및 제출 스크립트
        document.addEventListener('DOMContentLoaded', function() {
            const orderForm = document.getElementById('order-form'); 
            if (orderForm) {
                orderForm.addEventListener('submit', function(e) {
                    e.preventDefault(); // Netlify Forms는 기본 제출 동작을 사용하므로, GAS를 사용하지 않는다면 이 줄은 제거해야 합니다.
                    
                    const name = document.getElementById('name');
                    const phone = document.getElementById('phone');
                    const address = document.getElementById('address');
                    const paymentRadios = document.querySelectorAll('input[name="paymentMethod"]'); // name 변경
                    const agreeCheckbox = document.getElementById('agree-terms');

                    let isValid = true;
                    let errorMessage = [];

                    if (!name.value.trim()) {
                        errorMessage.push('이름을 입력해주세요.');
                        name.focus();
                        isValid = false;
                    }
                    if (!phone.value.trim()) {
                        errorMessage.push('연락처를 입력해주세요.');
                        if (isValid) phone.focus(); 
                        isValid = false;
                    }
                    if (!address.value.trim()) {
                        errorMessage.push('배달 주소를 입력해주세요.');
                        if (isValid) address.focus();
                        isValid = false;
                    }

                    let isPaymentSelected = false;
                    for (const radio of paymentRadios) {
                        if (radio.checked) {
                            isPaymentSelected = true;
                            break;
                        }
                    }
                    if (!isPaymentSelected) {
                        errorMessage.push('결제 방법을 선택해주세요.');
                        const firstPaymentRadio = document.querySelector('input[name="paymentMethod"]'); // name 변경
                        if (isValid && firstPaymentRadio) firstPaymentRadio.focus();
                        isValid = false;
                    }

                    if (!agreeCheckbox.checked) {
                        errorMessage.push('개인정보 수집 및 이용에 동의해주세요.');
                        if (isValid) agreeCheckbox.focus();
                        isValid = false;
                    }

                    if (!isValid) {
                        alert(errorMessage.join('\n'));
                    } else {
                        // Netlify Forms 사용 시 (data-netlify="true" 속성으로 자동 처리)
                        // 이 부분의 JS는 Netlify Forms가 작동하는 데 필요하지 않습니다.
                        // 하지만 Google Apps Script 연동을 원한다면, 아래 fetch 코드를 사용해야 합니다.

                        // [Google Apps Script 연동을 위한 예시 코드]
                        // const GOOGLE_APPS_SCRIPT_WEB_APP_URL = 'YOUR_ORDER_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE'; // 여기에 GAS 웹 앱 URL 삽입

                        // if (GOOGLE_APPS_SCRIPT_WEB_APP_URL !== 'YOUR_ORDER_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') {
                        //     fetch(GOOGLE_APPS_SCRIPT_WEB_APP_URL, {
                        //         method: 'POST',
                        //         mode: 'no-cors', // Apps Script로 보낼 때는 no-cors 모드 사용
                        //         headers: { 'Content-Type': 'application/json' },
                        //         body: JSON.stringify({
                        //             formType: 'orderForm', // GAS에서 폼 유형을 구분하기 위한 필드
                        //             customerName: name.value,
                        //             customerPhone: phone.value,
                        //             deliveryAddress: address.value,
                        //             specialRequest: document.getElementById('request').value,
                        //             paymentMethod: document.querySelector('input[name="paymentMethod"]:checked').value, // name 변경
                        //             privacyConsent: agreeCheckbox.checked
                        //         }),
                        //     })
                        //     .then(() => {
                        //         alert('주문이 성공적으로 접수되었습니다. 감사합니다!');
                        //         orderForm.reset();
                        //         window.location.href = '호호참숯불닭발-홈피.html#menu'; // 메인 메뉴로 리디렉션
                        //     })
                        //     .catch(error => {
                        //         console.error('Error:', error);
                        //         alert('주문 중 오류가 발생했습니다. 다시 시도해주세요.');
                        //     });
                        // } else {
                            // Netlify Forms를 기본으로 사용하는 경우
                            // 폼 유효성 검사 통과 후 폼을 직접 제출 (Netlify가 처리)
                            alert('주문이 성공적으로 접수되었습니다. 감사합니다!');
                            e.target.submit(); // Netlify Forms를 위해 폼을 제출
                        // }
                    }
                });
            }
        });
    </script>
</body>
</html>